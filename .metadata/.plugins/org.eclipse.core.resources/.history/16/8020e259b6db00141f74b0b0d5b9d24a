package com.innova4b.servicio.impl;

import java.util.List;

import org.hibernate.HibernateException;
import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.validator.internal.util.logging.Log.logger;

import com.innova4b.listas.ListaAviones;
import com.innova4b.modelo.Avion;
import com.innova4b.servicio.AvionServicio;

public class AvionServicioImpl implements AvionServicio {
	//Listar aviones con licencia caducada
	Session session;

	@Override
	public ListaAviones listarAvionesCaducados () {
		try {
		String hql = "select A.modelo from Avion A where A.estadoLicencia = 0";
		Query query = session.createQuery(hql);
		ListaAviones listAviones = (ListaAviones)query.list();
		return listAviones;
		} catch(HibernateException e){
	        logger.error("XXX Hibernate exception occured");
	        e.printStackTrace();
	    }
	}

}
